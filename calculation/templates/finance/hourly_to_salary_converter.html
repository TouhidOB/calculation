{% extends "base.html" %}

{% block title %}Hourly to Salary Converter{% endblock %}
{% block meta_description %}Convert hourly wage to annual salary based on hours/week and weeks/year.{% endblock %}

{% block extra_head %}
<style>.calc-wrapper{background:#fff;padding:22px;border-radius:10px} .analysis{white-space:pre-wrap}</style>
{% endblock %}

{% block content %}
<div class="container my-4">
  <h1>Hourly → Annual Salary Converter</h1>
  <p class="small-muted">Estimate annual salary from hourly pay (accounts for overtime option).</p>

  <div class="calc-wrapper mt-3">
    <form id="h2s-form">
      <div class="row">
        <div class="col-md-3 mb-2"><label>Hourly Wage ($)</label><input id="h2s-wage" type="number" class="form-control" step="0.01"></div>
        <div class="col-md-3 mb-2"><label>Hours per Week</label><input id="h2s-hours" type="number" class="form-control" value="40" step="0.1"></div>
        <div class="col-md-3 mb-2"><label>Weeks per Year</label><input id="h2s-weeks" type="number" class="form-control" value="52"></div>
        <div class="col-md-3 mb-2 align-self-end">
          <button class="btn btn-primary" type="submit">Convert</button>
          <button id="h2s-reset" type="button" class="btn btn-secondary">Reset</button>
        </div>
      </div>
    </form>

    <div id="h2s-result" class="mt-4 d-none">
      <h5>Result</h5>
      <div><strong>Estimated Annual Salary:</strong> $<span id="h2s-annual">0.00</span></div>
      <div><strong>Estimated Monthly:</strong> $<span id="h2s-monthly">0.00</span></div>

      <h6 class="mt-3">Deep Analysis</h6>
      <div id="h2s-analysis" class="analysis alert alert-light"></div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('h2s-form').addEventListener('submit', function(e){
  e.preventDefault();
  const wage = parseFloat(document.getElementById('h2s-wage').value) || 0;
  const hrs = parseFloat(document.getElementById('h2s-hours').value) || 0;
  const weeks = parseFloat(document.getElementById('h2s-weeks').value) || 52;
  const annual = wage * hrs * weeks;
  document.getElementById('h2s-annual').textContent = annual.toFixed(2);
  document.getElementById('h2s-monthly').textContent = (annual/12).toFixed(2);
  document.getElementById('h2s-result').classList.remove('d-none');

  let analysis = `Assumes ${hrs} hrs/week and ${weeks} weeks/year: annual = ${wage}×${hrs}×${weeks} = $${annual.toFixed(2)}.\n`;
  analysis += 'If you regularly work overtime, include overtime hours or negotiate salaried terms.\n';
  analysis += 'Check benefits (paid leave, insurance) — they add significant non-cash compensation.';
  document.getElementById('h2s-analysis').textContent = analysis;
});

document.getElementById('h2s-reset').addEventListener('click', function(){
  ['h2s-wage','h2s-hours','h2s-weeks'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('h2s-result').classList.add('d-none');
});
</script>
{% endblock %}
