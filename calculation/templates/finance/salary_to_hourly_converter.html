{% extends "base.html" %}

{% block title %}Salary to Hourly Converter{% endblock %}
{% block meta_description %}Convert annual salary to hourly rate using hours/week and weeks/year assumptions.{% endblock %}

{% block extra_head %}
<style>.calc-wrapper{background:#fff;padding:22px;border-radius:10px} .analysis{white-space:pre-wrap}</style>
{% endblock %}

{% block content %}
<div class="container my-4">
  <h1>Salary â†’ Hourly Converter</h1>
  <p class="small-muted">Estimate hourly wage from annual salary and expected work hours.</p>

  <div class="calc-wrapper mt-3">
    <form id="s2h-form">
      <div class="row">
        <div class="col-md-4 mb-2"><label>Annual Salary ($)</label><input id="s2h-salary" type="number" class="form-control"></div>
        <div class="col-md-4 mb-2"><label>Hours per Week</label><input id="s2h-hours" type="number" class="form-control" value="40"></div>
        <div class="col-md-4 mb-2"><label>Weeks per Year</label><input id="s2h-weeks" type="number" class="form-control" value="52"></div>
      </div>

      <div class="mt-2">
        <button class="btn btn-primary" type="submit">Convert</button>
        <button id="s2h-reset" type="button" class="btn btn-secondary">Reset</button>
      </div>
    </form>

    <div id="s2h-result" class="mt-4 d-none">
      <h5>Result</h5>
      <div><strong>Estimated Hourly Rate:</strong> $<span id="s2h-hourly">0.00</span></div>
      <div><strong>Estimated Weekly Pay:</strong> $<span id="s2h-weekly">0.00</span></div>

      <h6 class="mt-3">Deep Analysis</h6>
      <div id="s2h-analysis" class="analysis alert alert-light"></div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.getElementById('s2h-form').addEventListener('submit', function(e){
  e.preventDefault();
  const salary = parseFloat(document.getElementById('s2h-salary').value) || 0;
  const hrs = parseFloat(document.getElementById('s2h-hours').value) || 40;
  const weeks = parseFloat(document.getElementById('s2h-weeks').value) || 52;
  const hourly = salary / (hrs * weeks);
  const weekly = hourly * hrs;

  document.getElementById('s2h-hourly').textContent = hourly.toFixed(2);
  document.getElementById('s2h-weekly').textContent = weekly.toFixed(2);
  document.getElementById('s2h-result').classList.remove('d-none');

  let analysis = `Based on ${hrs} hrs/week and ${weeks} weeks/year:\n- Hourly: $${hourly.toFixed(2)}\n- Weekly: $${weekly.toFixed(2)}\n\nConsider benefits and paid time off when comparing to hourly roles.`;
  document.getElementById('s2h-analysis').textContent = analysis;
});

document.getElementById('s2h-reset').addEventListener('click', function(){
  ['s2h-salary','s2h-hours','s2h-weeks'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('s2h-result').classList.add('d-none');
});
</script>
{% endblock %}
